{"version":3,"sources":["../src/components/layout/ListCell.tsx","../src/components/layout/ListRow.tsx","../src/components/layout/ListBody.tsx","../src/components/layout/ListContainer.tsx","../src/components/layout/ListFiltersPanel.tsx","../src/components/layout/ListHeader.tsx","../src/components/layout/ListPagination.tsx","../src/components/layout/ListSortBar.tsx","../src/components/layout/ListTable.tsx","../src/components/layout/ListToolbar.tsx","../src/components/modals/ConfirmModal.tsx","../src/components/modals/ListModalOutlet.tsx","../src/components/states/ListEmptyState.tsx","../src/components/states/ListErrorState.tsx","../src/components/states/ListLoadingState.tsx","../src/core/filters.ts","../src/core/pagination.ts","../src/core/selection.ts","../src/core/snapshots.ts","../src/core/sorting.ts","../src/core/uiState.ts","../src/dataSource/createQuerySource.ts","../src/dataSource/createStaticSource.ts","../src/dataSource/createStreamSource.ts","../src/dataSource/patches.ts","../src/core/useListCore.ts","../src/components/listDisplay.tsx"],"names":["jsx","jsxs","useMemo","clearSelection","selectAllVisible"],"mappings":"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","file":"index.js","sourcesContent":["/**\n * List cell component module.\n *\n * @remarks\n * This module contains the ListCell component responsible for rendering\n * individual table cells within a list row, including custom rendering and styling.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {FieldSchema} from \"../../types\";\n\n/**\n * Props for the ListCell component.\n *\n * @internal\n */\nexport interface ListCellProps {\n    /** The data object for the current row */\n    row: any;\n    /** The zero-based index of the row in the list */\n    rowIndex: number;\n    /** The field schema defining how to render this cell */\n    field: FieldSchema<any>;\n    /** Whether the row containing this cell is currently selected */\n    isSelected: boolean;\n}\n\n/**\n * Renders an individual cell within a list table row.\n *\n * @remarks\n * This component handles cell rendering with support for custom renderers,\n * custom styling, and selection state. It applies the field's cellRenderer\n * if provided, otherwise displays the raw field value.\n *\n * @param props - The component props\n * @returns A td element containing the rendered cell content\n *\n * @internal\n */\nexport const ListCell: React.FC<ListCellProps> = ({\n                                                      row,\n                                                      rowIndex,\n                                                      field,\n                                                      isSelected,\n                                                  }) => {\n    const value = (row as any)[field.id];\n    const style = field.cellStyle ? field.cellStyle(row, value) : undefined;\n\n    let content: React.ReactNode = value as any;\n\n    if (field.cellRenderer) {\n        content = field.cellRenderer(row, value, {\n            rowIndex,\n            isSelected,\n        });\n    }\n\n    return (\n        <td\n            className={`ld-list__cell ld-list__cell--${String(field.id)}`}\n            style={style}\n        >\n            {content}\n        </td>\n    );\n};\n\nexport default ListCell;\n","/**\n * List row component module.\n *\n * @remarks\n * This module contains the ListRow component responsible for rendering\n * individual table rows within a list, including cell rendering, selection state,\n * and row-level actions.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {FieldSchema, ListState, RowAction, RowId, SelectionState} from \"../../types\";\nimport {ListCell} from \"./ListCell\";\n\n/**\n * Props for the ListRow component.\n *\n * @internal\n */\nexport interface ListRowProps {\n    /** The data object for the current row */\n    row: any;\n    /** The zero-based index of the row in the list */\n    rowIndex: number;\n    /** Array of field schemas defining the columns to display */\n    fields: Array<FieldSchema<any>>;\n    /** The current state of the list including selection and metadata */\n    state: ListState<any>;\n    /** The key used to uniquely identify this row */\n    idKey: string;\n    /** Optional array of actions available for this row */\n    rowActions?: Array<RowAction<any, any>>;\n    /** Optional callback function triggered when a row action is clicked */\n    onRowActionClick?: (actionId: string, rowIndex: number) => void;\n}\n\n/**\n * Determines whether a row is currently selected.\n *\n * @remarks\n * This helper function checks if a row's ID is present in the selection state's\n * selectedIds array to determine if the row should be rendered as selected.\n *\n * @param row - The row data object\n * @param selection - The current selection state containing selected IDs\n * @param idKey - The key used to extract the row's unique identifier\n * @returns True if the row is selected, false otherwise\n *\n * @internal\n */\nconst isSelectedRow = (\n    row: any,\n    selection: SelectionState<RowId>,\n    idKey: string\n): boolean => {\n    const id = (row as any)[idKey] as RowId;\n    return selection.selectedIds.includes(id);\n};\n\n/**\n * Renders an individual row within a list table.\n *\n * @remarks\n * This component renders a tr element containing cells for each field and optional\n * row actions. It handles row selection state and applies appropriate styling classes.\n * Each cell is rendered using the ListCell component, and row actions are rendered\n * as buttons within a dedicated actions cell.\n *\n * @param props - The component props\n * @returns A tr element containing cells and optional action buttons\n *\n * @internal\n */\nexport const ListRow: React.FC<ListRowProps> = (\n    {\n        row,\n        rowIndex,\n        fields,\n        state,\n        idKey,\n        rowActions,\n        onRowActionClick,\n    }\n) => {\n    const selected = isSelectedRow(row, state.selection as any, idKey);\n\n    return (\n        <tr\n            className={\n                selected\n                    ? \"ld-list__row ld-list__row--selected\"\n                    : \"ld-list__row\"\n            }\n        >\n            {fields.map((field) => (\n                <ListCell\n                    key={String(field.id)}\n                    row={row}\n                    rowIndex={rowIndex}\n                    field={field}\n                    isSelected={selected}\n                />\n            ))}\n\n            {rowActions && rowActions.length > 0 && (\n                <td className=\"ld-list__cell ld-list__cell--actions\">\n                    <div className=\"ld-list__row-actions\">\n                        {rowActions.map((action) => (\n                            <button\n                                key={action.id}\n                                type=\"button\"\n                                className={`ld-list__row-action ld-list__row-action--${\n                                    action.kind ?? \"default\"\n                                }`}\n                                onClick={() => onRowActionClick?.(action.id, rowIndex)}\n                            >\n                                {action.icon && (\n                                    <span className=\"ld-list__row-action-icon\">\n                    {action.icon}\n                  </span>\n                                )}\n                                <span className=\"ld-list__row-action-label\">\n                  {action.label}\n                </span>\n                            </button>\n                        ))}\n                    </div>\n                </td>\n            )}\n        </tr>\n    );\n};\n\nexport default ListRow;\n","/**\n * List body component module.\n *\n * @remarks\n * This module contains the ListBody component responsible for rendering\n * the tbody element of a list table, including rows and empty state handling.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {ListState, FieldSchema, RowAction} from \"../../types\";\nimport {ListRow} from \"./ListRow\";\n\n/**\n * Props for the ListBody component.\n *\n * @internal\n */\nexport interface ListBodyProps {\n    /** The current state of the list including rows and metadata */\n    state: ListState<any>;\n    /** Array of field schemas defining the columns to display */\n    fields: Array<FieldSchema<any>>;\n    /** The key used to uniquely identify each row */\n    idKey: string;\n    /** Optional array of actions available for each row */\n    rowActions?: Array<RowAction<any, any>>;\n    /** Optional callback function triggered when a row action is clicked */\n    onRowActionClick?: (actionId: string, rowIndex: number) => void;\n}\n\n/**\n * Renders the body section of a list table.\n *\n * @remarks\n * This component renders the tbody element containing all data rows or an empty state\n * when no data is available. It delegates individual row rendering to the ListRow component.\n *\n * @param props - The component props\n * @returns A tbody element with rows or empty state\n *\n * @internal\n */\nexport const ListBody: React.FC<ListBodyProps> = ({\n                                                      state,\n                                                      fields,\n                                                      idKey,\n                                                      rowActions,\n                                                      onRowActionClick,\n                                                  }) => {\n    if (!state.rows || state.rows.length === 0) {\n        return (\n            <tbody className=\"ld-list__body ld-list__body--empty\">\n            <tr className=\"ld-list__row ld-list__row--empty\">\n                <td\n                    className=\"ld-list__cell ld-list__cell--empty\"\n                    colSpan={fields.length + (rowActions && rowActions.length > 0 ? 1 : 0)}\n                />\n            </tr>\n            </tbody>\n        );\n    }\n\n    return (\n        <tbody className=\"ld-list__body\">\n        {state.rows.map((row, index) => (\n            <ListRow\n                key={String((row as any)[idKey])}\n                row={row}\n                rowIndex={index}\n                fields={fields}\n                state={state}\n                idKey={idKey}\n                rowActions={rowActions}\n                onRowActionClick={onRowActionClick}\n            />\n        ))}\n        </tbody>\n    );\n};\n\nexport default ListBody;\n","/**\n * List container component module.\n *\n * @remarks\n * This module contains the ListContainer component responsible for providing\n * the root container wrapper for list layout structures.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\n\n/**\n * Props for the ListContainer component.\n *\n * @internal\n */\nexport interface ListContainerProps {\n  /** Optional CSS class name to override default container styling */\n  className?: string;\n  /** Child elements to be rendered within the container */\n  children?: React.ReactNode;\n}\n\n/**\n * Renders the root container for list layout structures.\n *\n * @remarks\n * This component provides a wrapper div element that serves as the outermost\n * container for list components. It applies a default \"ld-list\" class name\n * unless a custom className is provided via props.\n *\n * @param props - The component props\n * @returns A div element wrapping the list content\n *\n * @internal\n */\nexport const ListContainer: React.FC<ListContainerProps> = ({\n  className,\n  children,\n}) => {\n  return (\n    <div className={className ?? \"ld-list\"}>\n      {children}\n    </div>\n  );\n};\n\nexport default ListContainer;\n","/**\n * List filters panel component module.\n *\n * @remarks\n * This module contains the ListFiltersPanel component responsible for rendering\n * a placeholder filters panel with reset functionality. It displays a message\n * prompting users to provide a custom FiltersPanel via slots.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {FiltersPanelProps} from \"../../types\";\n\n/**\n * Renders a placeholder filters panel for list views.\n *\n * @remarks\n * This component provides a minimal filters panel UI that displays a placeholder\n * message when no custom filters panel is configured. It includes a reset button\n * to clear all active filters and is disabled during loading states.\n *\n * @param props - The component props conforming to FiltersPanelProps interface\n * @returns A filters panel element or null if onChangeFilters is not provided or no fields exist\n *\n * @internal\n */\nexport const ListFiltersPanel: React.FC<FiltersPanelProps> = ({\n                                                                state,\n                                                                fields,\n                                                                onChangeFilters,\n                                                              }) => {\n  if (!onChangeFilters || fields.length === 0) {\n    return null;\n  }\n\n    const handleReset = () => {\n    onChangeFilters({});\n  };\n\n  return (\n      <div className=\"ld-list__filters\">\n        <div className=\"ld-list__filters-header\">\n          <span className=\"ld-list__filters-title\">Filters</span>\n          <button\n              type=\"button\"\n              className=\"ld-list__filters-reset\"\n              onClick={handleReset}\n              disabled={state.status === \"loading\"}\n          >\n            Reset\n          </button>\n        </div>\n        <div className=\"ld-list__filters-content\">\n        <span className=\"ld-list__filters-placeholder\">\n          Filter UI not configured. Provide a custom FiltersPanel via slots.\n        </span>\n        </div>\n      </div>\n  );\n};\n\nexport default ListFiltersPanel;\n","/**\n * List header component module.\n *\n * @remarks\n * This module contains the ListHeader component responsible for rendering\n * the thead element of a list table, including column headers and action column header.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {FieldSchema} from \"../../types\";\n\n/**\n * Props for the ListHeader component.\n *\n * @internal\n */\nexport interface ListHeaderProps<TRow = any> {\n    /** Array of field schemas defining the columns to display */\n    fields: Array<FieldSchema<TRow>>;\n    /** Whether the list has row actions, which requires an additional action column header */\n    hasRowActions: boolean;\n}\n\n/**\n * Renders the header section of a list table.\n *\n * @remarks\n * This component renders the thead element containing column headers based on field schemas.\n * If row actions are present, an additional empty header cell is rendered for the actions column.\n *\n * @param props - The component props\n * @returns A thead element with header row and cells\n *\n * @internal\n */\nexport const ListHeader = <TRow = any>({\n  fields,\n  hasRowActions,\n}: ListHeaderProps<TRow>) => {\n  return (\n    <thead className=\"ld-list__head\">\n      <tr className=\"ld-list__head-row\">\n        {fields.map((field) => (\n          <th\n            key={field.id}\n            className={`ld-list__head-cell ld-list__head-cell--${field.id}`}\n            style={field.headerStyle}\n          >\n            {field.label}\n          </th>\n        ))}\n\n        {hasRowActions && (\n          <th className=\"ld-list__head-cell ld-list__head-cell--actions\" />\n        )}\n      </tr>\n    </thead>\n  );\n};\n\nexport default ListHeader;\n","/**\n * List pagination component module.\n *\n * @remarks\n * This module contains the ListPagination component responsible for rendering\n * pagination controls including page navigation, page size selection, and display\n * of current pagination state information.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {PaginationProps} from \"../../types\";\n\n/**\n * Renders pagination controls for navigating through list pages.\n *\n * @remarks\n * This component provides a complete pagination UI including:\n * - Current page and total pages display\n * - Total items count\n * - Previous/Next navigation buttons with disabled states\n * - Page size selector dropdown with preset options (10, 25, 50, 100)\n *\n * The component uses the pagination state from the provided ListState and\n * triggers callbacks when users interact with page navigation or page size controls.\n *\n * @param props - The component props\n * @returns A div element containing pagination information and controls\n *\n * @internal\n */\nexport const ListPagination: React.FC<PaginationProps> = ({\n                                                            state,\n                                                            onChangePage,\n                                                            onChangePageSize,\n                                                          }) => {\n  const { pagination } = state;\n  const {\n    pageIndex,\n    pageSize,\n    totalItems = 0,\n    totalPages = 1,\n  } = pagination;\n\n  const canPrev = pageIndex > 0;\n  const canNext = pageIndex < totalPages - 1;\n\n  const handlePrev = () => {\n    if (!canPrev || !onChangePage) return;\n    onChangePage(pageIndex - 1);\n  };\n\n  const handleNext = () => {\n    if (!canNext || !onChangePage) return;\n    onChangePage(pageIndex + 1);\n  };\n\n  const handlePageSizeChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const value = Number(event.target.value);\n    if (!Number.isFinite(value) || value <= 0) return;\n    onChangePageSize?.(value);\n  };\n\n  return (\n      <div className=\"ld-list__pagination\">\n        <div className=\"ld-list__pagination-info\">\n        <span>\n          Page {pageIndex + 1} of {totalPages}\n        </span>\n          <span className=\"ld-list__pagination-total\">\n          {totalItems} items\n        </span>\n        </div>\n\n        <div className=\"ld-list__pagination-controls\">\n          <button\n              type=\"button\"\n              className=\"ld-list__pagination-button\"\n              onClick={handlePrev}\n              disabled={!canPrev}\n          >\n            Prev\n          </button>\n          <button\n              type=\"button\"\n              className=\"ld-list__pagination-button\"\n              onClick={handleNext}\n              disabled={!canNext}\n          >\n            Next\n          </button>\n\n          <label className=\"ld-list__pagination-pagesize\">\n            <span>Rows per page</span>\n            <select\n                className=\"ld-list__pagination-pagesize-select\"\n                value={pageSize}\n                onChange={handlePageSizeChange}\n            >\n              {[10, 25, 50, 100].map((size) => (\n                  <option key={size} value={size}>\n                    {size}\n                  </option>\n              ))}\n            </select>\n          </label>\n        </div>\n      </div>\n  );\n};\n\nexport default ListPagination;\n","/**\n * List sort bar component module.\n *\n * @remarks\n * This module contains the ListSortBar component responsible for rendering\n * a sort control interface with a dropdown for selecting sortable fields\n * and a toggle button for changing sort direction.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {SortBarProps} from \"../../types\";\n\n/**\n * Renders a sort control bar for list tables.\n *\n * @remarks\n * This component provides a minimal sort interface with a dropdown to select\n * sortable fields and a direction toggle button. It only renders if the onChangeSort\n * callback is provided and there are sortable fields available. The component\n * automatically filters fields to show only those marked as sortable.\n *\n * @param props - The component props\n * @returns A sort bar with field selector and direction toggle, or null if sorting is not available\n *\n * @internal\n */\nexport const ListSortBar: React.FC<SortBarProps> = ({\n                                                      state,\n                                                      fields,\n                                                      onChangeSort,\n                                                    }) => {\n  if (!onChangeSort) {\n    return null;\n  }\n\n  const sortableFields = fields.filter((f) => f.sortable);\n  if (sortableFields.length === 0) {\n    return null;\n  }\n\n  const currentFieldId = (state.sort?.field as string) ?? \"\";\n  const currentDirection = state.sort?.direction ?? \"asc\";\n\n  const handleFieldChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const fieldId = event.target.value;\n    if (!fieldId) {\n      onChangeSort(\"\");\n      return;\n    }\n    onChangeSort(fieldId);\n  };\n\n  const handleDirectionToggle = () => {\n    if (!state.sort) {\n      return;\n    }\n    onChangeSort(state.sort.field as string);\n  };\n\n  return (\n      <div className=\"ld-list__sortbar\">\n        <label className=\"ld-list__sortbar-field\">\n          <span className=\"ld-list__sortbar-label\">Sort by</span>\n          <select\n              className=\"ld-list__sortbar-select\"\n              value={currentFieldId}\n              onChange={handleFieldChange}\n          >\n            <option value=\"\">None</option>\n            {sortableFields.map((field) => (\n                <option key={String(field.id)} value={String(field.id)}>\n                  {field.label}\n                </option>\n            ))}\n          </select>\n        </label>\n\n        {currentFieldId && (\n            <button\n                type=\"button\"\n                className={`ld-list__sortbar-direction ld-list__sortbar-direction--${currentDirection}`}\n                onClick={handleDirectionToggle}\n            >\n              {currentDirection === \"asc\" ? \"\" : \"\"}\n            </button>\n        )}\n      </div>\n  );\n};\n\nexport default ListSortBar;\n","/**\n * List table component module.\n *\n * @remarks\n * This module contains the ListTable component responsible for rendering\n * the main table structure of a list, including the table wrapper, header, and body.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {TableProps} from \"../../types\";\nimport {ListHeader} from \"./ListHeader\";\nimport {ListBody} from \"./ListBody\";\n\n/**\n * Renders the main table structure for a list view.\n *\n * @remarks\n * This component serves as the default table layout, wrapping the table structure\n * and coordinating the rendering of the header and body sections. It automatically\n * determines if row actions should be displayed based on the provided rowActions prop.\n *\n * @param props - The component props conforming to TableProps interface\n * @returns A div wrapper containing the complete table structure\n *\n * @internal\n */\nexport const ListTable: React.FC<TableProps> = ({\n                                                    state,\n                                                    fields,\n                                                    idKey,\n                                                    rowActions,\n                                                    onRowActionClick,\n                                                }) => {\n    const hasRowActions = Boolean(rowActions && rowActions.length > 0);\n\n    return (\n        <div className=\"ld-list__table-wrapper\">\n            <table className=\"ld-list__table\">\n                <ListHeader fields={fields} hasRowActions={hasRowActions} />\n                <ListBody\n                    state={state}\n                    fields={fields}\n                    idKey={idKey}\n                    rowActions={rowActions}\n                    onRowActionClick={onRowActionClick}\n                />\n            </table>\n        </div>\n    );\n};\n\nexport default ListTable;\n","/**\n * List toolbar component module.\n *\n * @remarks\n * This module contains the ListToolbar component responsible for rendering\n * a toolbar with general action buttons for list operations.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {ToolbarProps} from \"../../types\";\n\n/**\n * Renders a toolbar with general action buttons for list operations.\n *\n * @remarks\n * This component displays a horizontal toolbar containing action buttons based on\n * the provided generalActions array. Each action is rendered as a button with optional\n * icon and label. Buttons are disabled during loading or streaming states.\n * Returns null if no general actions are provided.\n *\n * @param props - The component props conforming to ToolbarProps interface\n * @returns A toolbar div element with action buttons, or null if no actions are provided\n *\n * @internal\n */\nexport const ListToolbar: React.FC<ToolbarProps> = ({\n                                                      state,\n                                                      generalActions,\n                                                      onActionClick,\n                                                    }) => {\n  if (!generalActions || generalActions.length === 0) {\n    return null;\n  }\n\n  return (\n      <div className=\"ld-list__toolbar\">\n        {generalActions.map((action) => (\n            <button\n                key={action.id}\n                type=\"button\"\n                className={`ld-list__toolbar-button ld-list__toolbar-button--${\n                    action.kind ?? \"default\"\n                }`}\n                onClick={() => onActionClick?.(action.id)}\n                disabled={state.status === \"loading\" || state.status === \"streaming\"}\n            >\n              {action.icon && (\n                  <span className=\"ld-list__toolbar-button-icon\">\n              {action.icon}\n            </span>\n              )}\n              <span className=\"ld-list__toolbar-button-label\">\n            {action.label}\n          </span>\n            </button>\n        ))}\n      </div>\n  );\n};\n\nexport default ListToolbar;\n","/**\n * Confirm modal component module.\n *\n * @remarks\n * This module contains the ConfirmModal component and related props interface\n * for displaying confirmation dialogs with customizable content and actions.\n *\n * @packageDocumentation\n * @public\n */\n\nimport React from \"react\";\n\n/**\n * Props for the ConfirmModal component.\n *\n * @public\n */\nexport interface ConfirmModalProps {\n  /** The title text displayed in the modal header */\n  title: string;\n  /** Optional description content displayed in the modal body, can be a string or React node */\n  description?: React.ReactNode;\n  /** Optional label for the confirm button, defaults to \"Confirm\" */\n  confirmLabel?: string;\n  /** Optional label for the cancel button, defaults to \"Cancel\" */\n  cancelLabel?: string;\n  /** Callback function triggered when the confirm button is clicked, can be synchronous or asynchronous */\n  onConfirm: () => void | Promise<void>;\n  /** Callback function triggered when the cancel button is clicked */\n  onCancel: () => void;\n}\n\n/**\n * Renders a confirmation modal dialog with customizable content and actions.\n *\n * @remarks\n * This component provides a very small, unstyled confirm modal.\n * Styling is left to consumer via CSS classes. The modal includes a header,\n * optional body content, and footer with cancel and confirm action buttons.\n *\n * @param props - The component props\n * @returns A modal dialog element with backdrop\n *\n * @public\n */\nexport const ConfirmModal: React.FC<ConfirmModalProps> = ({\n  title,\n  description,\n  confirmLabel = \"Confirm\",\n  cancelLabel = \"Cancel\",\n  onConfirm,\n  onCancel,\n}) => {\n  const handleConfirm = () => {\n    onConfirm();\n  };\n\n  const handleCancel = () => {\n    onCancel();\n  };\n\n  return (\n    <div className=\"ld-modal ld-modal--backdrop\">\n      <div className=\"ld-modal__dialog ld-modal__dialog--confirm\">\n        <div className=\"ld-modal__header\">\n          <h2 className=\"ld-modal__title\">{title}</h2>\n        </div>\n\n        {description && (\n          <div className=\"ld-modal__body\">\n            {typeof description === \"string\" ? (\n              <p>{description}</p>\n            ) : (\n              description\n            )}\n          </div>\n        )}\n\n        <div className=\"ld-modal__footer\">\n          <button\n            type=\"button\"\n            className=\"ld-modal__button ld-modal__button--cancel\"\n            onClick={handleCancel}\n          >\n            {cancelLabel}\n          </button>\n          <button\n            type=\"button\"\n            className=\"ld-modal__button ld-modal__button--confirm\"\n            onClick={handleConfirm}\n          >\n            {confirmLabel}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfirmModal;\n","/**\n * List modal outlet component module.\n *\n * @remarks\n * This module contains the ListModalOutlet component which provides default modal rendering\n * functionality for list actions. It supports confirm modals out of the box and provides\n * fallback handling for custom modals that require consumer implementation.\n *\n * @packageDocumentation\n * @public\n */\n\nimport React, {useMemo} from \"react\";\nimport type {GeneralAction, ModalConfig, ModalOutletProps, RowAction} from \"../../types\";\nimport {ConfirmModal} from \"./ConfirmModal\";\n\n/**\n * Default modal outlet component for rendering action-triggered modals.\n *\n * @remarks\n * This component provides default modal rendering functionality for list actions.\n * It supports:\n * - Confirm modals (ModalConfig.type === \"confirm\") with customizable titles, descriptions, and button labels\n * - Fallback handling for missing action configurations\n * - Custom modal placeholders with instructions for consumer implementation\n *\n * For custom modals (ModalConfig.type === \"custom\"), consumers are expected to override\n * this component via the \"ModalOutlet\" slot in the list configuration and handle rendering themselves.\n *\n * @param props - The component props containing state, actions, and callbacks {@link ModalOutletProps}\n * @returns A modal component based on the active action configuration, or null if no modal is open\n *\n * @public\n */\nexport const ListModalOutlet: React.FC<ModalOutletProps> = (\n    {\n        state,\n        generalActions,\n        rowActions,\n        onConfirm,\n        onCancel,\n    }\n) => {\n    const {ui} = state;\n    const {modal, activeAction} = ui;\n\n    if (!modal || !modal.isOpen || !modal.actionId) {\n        return null;\n    }\n\n    const actionType: \"general\" | \"row\" | undefined = activeAction?.type\n        ?? (modal.rowId != null ? \"row\" : \"general\");\n\n    const {action, modalConfig} = useMemo(() => {\n        let act: GeneralAction<any, any> | RowAction<any, any> | undefined;\n        let config: ModalConfig<any, any> | undefined;\n\n        if (actionType === \"general\") {\n            act = (generalActions ?? []).find((a) => a.id === modal.actionId);\n        } else if (actionType === \"row\") {\n            act = (rowActions ?? []).find((a) => a.id === modal.actionId);\n        }\n\n        if (act && act.modal) {\n            config = act.modal as ModalConfig<any, any>;\n        }\n\n        return {action: act, modalConfig: config};\n    }, [actionType, modal.actionId, generalActions, rowActions]);\n\n    // If the action is missing or lacks modal config, still show a minimal fallback.\n    if (!action || !modalConfig) {\n        return (\n            <ConfirmModal\n                title=\"Confirm action\"\n                description={\n                    <span>\n            Are you sure you want to execute this action?\n          </span>\n                }\n                onConfirm={() => onConfirm()}\n                onCancel={onCancel}\n            />\n        );\n    }\n\n    // Confirm modal configuration is fully supported here.\n    if (modalConfig.type === \"confirm\") {\n        return (\n            <ConfirmModal\n                title={modalConfig.title}\n                description={modalConfig.description}\n                confirmLabel={modalConfig.confirmLabel}\n                cancelLabel={modalConfig.cancelLabel}\n                onConfirm={() => onConfirm()}\n                onCancel={onCancel}\n            />\n        );\n    }\n\n    // Custom modal handling is not implemented by default in the core.\n    // The consumer can override ModalOutlet in config.components.ModalOutlet.\n    if (modalConfig.type === \"custom\") {\n        return (\n            <div className=\"ld-modal ld-modal--backdrop\">\n                <div className=\"ld-modal__dialog ld-modal__dialog--custom-unsupported\">\n                    <div className=\"ld-modal__header\">\n                        <h2 className=\"ld-modal__title\">\n                            Custom modal not handled by default ModalOutlet\n                        </h2>\n                    </div>\n                    <div className=\"ld-modal__body\">\n                        <p>\n                            The current action uses a custom modal configuration.\n                            Provide a custom <code>ModalOutlet</code> component via\n                            the list&apos;s <code>components</code> configuration to\n                            render it.\n                        </p>\n                    </div>\n                    <div className=\"ld-modal__footer\">\n                        <button\n                            type=\"button\"\n                            className=\"ld-modal__button ld-modal__button--cancel\"\n                            onClick={onCancel}\n                        >\n                            Close\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    // Absolute fallback for unknown modal types.\n    return null;\n};\n\nexport default ListModalOutlet;\n","/**\n * List empty state component module.\n *\n * @remarks\n * This module contains the ListEmptyState component responsible for rendering\n * an empty state message when a list has no data to display.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {StatusStateProps} from \"../../types\";\n\n/**\n * Renders an empty state message for lists with no data.\n *\n * @remarks\n * This component displays a centered message indicating that there is no data\n * to display in the list. It uses a default message if none is provided via props.\n *\n * @param props - The component props\n * @returns A div element containing the empty state message\n *\n * @internal\n */\nexport const ListEmptyState: React.FC<StatusStateProps> = ({ message }) => {\n  return (\n    <div className=\"ld-list-state ld-list-state--empty\">\n      <p className=\"ld-list-state__message\">\n        {message ?? \"No data to display.\"}\n      </p>\n    </div>\n  );\n};\n\nexport default ListEmptyState;\n","/**\n * List error state component module.\n *\n * @remarks\n * This module contains the ListErrorState component responsible for rendering\n * an error state display when list data fails to load or encounters an error.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {StatusStateProps} from \"../../types\";\n\n/**\n * Renders an error state display for list components.\n *\n * @remarks\n * This component displays an error message when data loading fails.\n * If no custom message is provided, a default error message is shown.\n *\n * @param props - The component props\n * @returns A div element containing the error state display\n *\n * @internal\n */\nexport const ListErrorState: React.FC<StatusStateProps> = ({ message }) => {\n  return (\n    <div className=\"ld-list-state ld-list-state--error\">\n      <p className=\"ld-list-state__message\">\n        {message ?? \"An error occurred while loading the data.\"}\n      </p>\n    </div>\n  );\n};\n\nexport default ListErrorState;\n","/**\n * List loading state component module.\n *\n * @remarks\n * This module contains the ListLoadingState component responsible for rendering\n * a loading indicator with an optional message while data is being fetched.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport React from \"react\";\nimport type {StatusStateProps} from \"../../types\";\n\n/**\n * Renders a loading state indicator for lists.\n *\n * @remarks\n * This component displays a spinner animation along with a customizable message\n * to inform users that data is being loaded. The message defaults to \"Loading data...\"\n * if not provided.\n *\n * @param props - The component props\n * @returns A div element containing a spinner and loading message\n *\n * @internal\n */\nexport const ListLoadingState: React.FC<StatusStateProps> = ({ message }) => {\n  return (\n    <div className=\"ld-list-state ld-list-state--loading\">\n      <div className=\"ld-list-state__spinner\" aria-hidden=\"true\" />\n      <p className=\"ld-list-state__message\">\n        {message ?? \"Loading data...\"}\n      </p>\n    </div>\n  );\n};\n\nexport default ListLoadingState;\n","/**\n * Core filtering module providing predicate building and filter application for list data.\n *\n * @packageDocumentation\n * @internal\n */\n\nimport type {\n  ActiveFilterState,\n  FieldFilterConfig,\n  FilterOperator,\n  FilterType,\n  FieldSchema\n} from \"../types\";\n\n/**\n * Type alias for any row object.\n * @internal\n */\ntype AnyRow = any;\n\n/**\n * Context object containing filter state and field schemas needed for filter evaluation.\n *\n * @typeParam TRow - The type of row objects being filtered\n * @internal\n */\nexport interface FilterContext<TRow = AnyRow> {\n  /**\n   * The current active filter state containing all applied filters.\n   */\n  filters: ActiveFilterState;\n\n  /**\n   * Array of field schemas that define the structure and filter configuration for each field.\n   */\n  fields: Array<FieldSchema<TRow>>;\n}\n\n/**\n * Represents a single active filter for a field after resolution and normalization.\n * Contains all information needed to evaluate the filter against row data.\n *\n * @internal\n */\ninterface ResolvedFilter {\n  /**\n   * The ID of the field this filter applies to.\n   */\n  fieldId: string;\n\n  /**\n   * The type of filter (text, number, date, boolean).\n   */\n  type: FilterType;\n\n  /**\n   * The comparison operator to use (equals, contains, gt, etc.).\n   */\n  operator: FilterOperator;\n\n  /**\n   * The primary filter value.\n   */\n  value: unknown;\n\n  /**\n   * Optional secondary value for range-based operators like \"between\".\n   */\n  valueTo?: unknown;\n\n  /**\n   * Optional field-specific filter configuration.\n   */\n  config?: FieldFilterConfig<any, any>;\n}\n\n/**\n * Normalizes raw filter values into a standard structure with operator and value(s).\n * Supports multiple input formats:\n *  - Primitive values (e.g. \"foo\") - mapped to type-appropriate operator\n *  - Object with `{ value, operator }` - explicit operator specification\n *  - Object with `{ from, to }` - converted to \"between\" operator\n *\n * @param rawValue - The raw filter value from user input or state\n * @param defaultType - The field type used to determine default operator for primitives\n * @returns Normalized filter structure with operator and value(s), or null if value is invalid\n * @internal\n */\nconst resolveFilterValue = (\n  rawValue: unknown,\n  defaultType: FilterType\n): { operator: FilterOperator; value: unknown; valueTo?: unknown } | null => {\n  if (rawValue == null) {\n    return null;\n  }\n\n  // object-based filter\n  if (typeof rawValue === \"object\") {\n    const obj = rawValue as any;\n\n    if (obj.operator && \"value\" in obj) {\n      return {\n        operator: obj.operator as FilterOperator,\n        value: obj.value,\n      };\n    }\n\n    if (\"from\" in obj || \"to\" in obj) {\n      return {\n        operator: \"between\",\n        value: obj.from,\n        valueTo: obj.to,\n      };\n    }\n  }\n\n  // primitive: default operator based on type\n  switch (defaultType) {\n    case \"text\":\n      return { operator: \"contains\", value: rawValue };\n    case \"number\":\n    case \"date\":\n      return { operator: \"equals\", value: rawValue };\n    case \"boolean\":\n      return { operator: \"equals\", value: rawValue };\n    default:\n      return { operator: \"equals\", value: rawValue };\n  }\n};\n\n/**\n * Extracts the filter configuration from a field schema.\n *\n * @typeParam TRow - The type of row objects\n * @param field - The field schema to extract configuration from\n * @returns The field's filter configuration, or undefined if not configured\n * @internal\n */\nconst getFieldFilterConfig = <TRow = AnyRow>(\n  field: FieldSchema<TRow>\n): FieldFilterConfig<TRow, any> | undefined => {\n  return field.filter;\n};\n\n/**\n * Builds an array of resolved filters by matching active filters with their field schemas\n * and normalizing their values into a standard evaluation structure.\n *\n * @typeParam TRow - The type of row objects\n * @param filters - The active filter state from user input\n * @param fields - Array of field schemas containing filter configurations\n * @returns Array of resolved filters ready for evaluation\n * @internal\n */\nconst buildResolvedFilters = <TRow = AnyRow>(\n  filters: ActiveFilterState,\n  fields: Array<FieldSchema<TRow>>\n): ResolvedFilter[] => {\n  const resolved: ResolvedFilter[] = [];\n\n  for (const [fieldId, rawValue] of Object.entries(filters)) {\n    const field = fields.find((f) => f.id === fieldId);\n    if (!field || rawValue == null) continue;\n\n    const filterConfig = getFieldFilterConfig(field);\n    const type: FilterType = filterConfig?.type ?? \"text\";\n\n    const resolvedValue = resolveFilterValue(rawValue, type);\n    if (!resolvedValue) continue;\n\n    resolved.push({\n      fieldId,\n      type,\n      operator: resolvedValue.operator,\n      value: resolvedValue.value,\n      valueTo: resolvedValue.valueTo,\n      config: filterConfig,\n    });\n  }\n\n  return resolved;\n};\n\n/**\n * Normalizes a field value using the field's custom normalization function if provided.\n * This allows fields to transform values before comparison (e.g., case normalization, formatting).\n *\n * @typeParam TRow - The type of row objects\n * @typeParam TValue - The type of the field value\n * @param value - The raw value from the row\n * @param row - The complete row object (for context-aware normalization)\n * @param config - Optional field filter configuration containing normalization function\n * @returns The normalized value ready for comparison\n * @internal\n */\nconst normalizeValue = <TRow = AnyRow, TValue = any>(\n  value: TValue,\n  row: TRow,\n  config?: FieldFilterConfig<TRow, TValue>\n): unknown => {\n  if (config?.normalize) {\n    return config.normalize(value, row);\n  }\n  return value;\n};\n\n/**\n * Converts values to comparable primitives for consistent comparison operations.\n * Specifically handles Date objects by converting them to timestamps.\n *\n * @param value - The value to convert\n * @returns A comparable primitive value\n * @internal\n */\nconst toComparable = (value: unknown): any => {\n  if (value instanceof Date) {\n    return value.getTime();\n  }\n  return value;\n};\n\n/**\n * Evaluates a filter operator against a normalized value and filter criteria.\n * Supports all standard operators including text matching, numeric comparison, and range checks.\n *\n * @param operator - The filter operator to apply\n * @param normalizedValue - The normalized value from the row\n * @param filterValue - The primary filter value to compare against\n * @param filterValueTo - Optional secondary value for range-based operators\n * @returns True if the value passes the filter, false otherwise\n * @internal\n */\nconst applyOperator = (\n  operator: FilterOperator,\n  normalizedValue: unknown,\n  filterValue: unknown,\n  filterValueTo?: unknown\n): boolean => {\n  const v = toComparable(normalizedValue);\n  const fv = toComparable(filterValue);\n  const fv2 = toComparable(filterValueTo);\n\n  switch (operator) {\n    case \"equals\":\n      return v === fv;\n    case \"notEquals\":\n      return v !== fv;\n    case \"contains\":\n      return (\n        typeof v === \"string\" &&\n        typeof fv === \"string\" &&\n        v.toLowerCase().includes(fv.toLowerCase())\n      );\n    case \"startsWith\":\n      return (\n        typeof v === \"string\" &&\n        typeof fv === \"string\" &&\n        v.toLowerCase().startsWith(fv.toLowerCase())\n      );\n    case \"endsWith\":\n      return (\n        typeof v === \"string\" &&\n        typeof fv === \"string\" &&\n        v.toLowerCase().endsWith(fv.toLowerCase())\n      );\n    case \"in\":\n      return Array.isArray(filterValue) && filterValue.includes(v);\n    case \"gt\":\n      return v > fv;\n    case \"gte\":\n      return v >= fv;\n    case \"lt\":\n      return v < fv;\n    case \"lte\":\n      return v <= fv;\n    case \"between\":\n      if (fv == null || fv2 == null) return false;\n      return v >= fv && v <= fv2;\n    default:\n      return true;\n  }\n};\n\n/**\n * Builds a predicate function that evaluates whether a row passes all active filters.\n * The predicate performs AND logic across all filters (row must match all filters).\n * Returns a no-op predicate if no filters are active.\n *\n * @typeParam TRow - The type of row objects\n * @param ctx - The filter context containing active filters and field schemas\n * @returns A predicate function that returns true if the row passes all filters\n * @internal\n */\nexport const buildFilterPredicate = <TRow = AnyRow>(\n  ctx: FilterContext<TRow>\n): ((row: TRow) => boolean) => {\n  const { filters, fields } = ctx;\n  const resolved = buildResolvedFilters(filters, fields);\n\n  if (resolved.length === 0) {\n    return () => true;\n  }\n\n  return (row: TRow) => {\n    for (const filter of resolved) {\n      const field = fields.find((f) => f.id === filter.fieldId);\n      if (!field) continue;\n\n      const value = (row as any)[field.id];\n      const normalized = normalizeValue(value, row, filter.config);\n      const ok = applyOperator(\n        filter.operator,\n        normalized,\n        filter.value,\n        filter.valueTo\n      );\n\n      if (!ok) return false;\n    }\n    return true;\n  };\n};\n\n/**\n * Applies all active filters to a list of rows and returns the filtered array.\n * This is the primary entry point for filter evaluation.\n *\n * @typeParam TRow - The type of row objects\n * @param rows - The array of rows to filter\n * @param ctx - The filter context containing active filters and field schemas\n * @returns A new array containing only rows that pass all filters\n * @internal\n */\nexport const applyFilters = <TRow = AnyRow>(\n  rows: TRow[],\n  ctx: FilterContext<TRow>\n): TRow[] => {\n  const predicate = buildFilterPredicate(ctx);\n  return rows.filter(predicate);\n};\n","import type { PaginationState } from \"../types\";\n\ntype AnyRow = any;\n\n/**\n * Recomputes pagination metadata based on the current rows.\n *\n * Ensures that page indices remain valid and recalculates total pages\n * when the row count or page size changes.\n *\n * @param pagination - The current pagination state\n * @param totalItems - The total number of items in the dataset\n * @returns Updated pagination state with corrected indices and metadata\n *\n * @internal\n */\nexport const updatePaginationMeta = (\n  pagination: PaginationState,\n  totalItems: number\n): PaginationState => {\n  const pageSize = pagination.pageSize > 0 ? pagination.pageSize : 10;\n\n  const totalPages =\n    totalItems === 0 ? 1 : Math.max(1, Math.ceil(totalItems / pageSize));\n\n  let pageIndex = pagination.pageIndex;\n  if (pageIndex < 0) pageIndex = 0;\n  if (pageIndex >= totalPages) pageIndex = totalPages - 1;\n\n  return {\n    ...pagination,\n    pageIndex,\n    totalItems,\n    totalPages,\n  };\n};\n\n/**\n * Slices the rows according to the pagination state.\n *\n * Extracts the subset of rows that should be displayed on the current page.\n * If pageSize is 0 or negative, returns all rows without pagination.\n *\n * @typeParam TRow - The type of row objects in the array\n * @param rows - The complete array of rows to paginate\n * @param pagination - The pagination state containing page index and size\n * @returns A slice of rows for the current page\n *\n * @internal\n */\nexport const applyPagination = <TRow = AnyRow>(\n  rows: TRow[],\n  pagination: PaginationState\n): TRow[] => {\n  const { pageIndex, pageSize } = pagination;\n  if (pageSize <= 0) {\n    return rows;\n  }\n\n  const start = pageIndex * pageSize;\n  const end = start + pageSize;\n  return rows.slice(start, end);\n};\n","import type {RowId, SelectionMode, SelectionState,} from \"../types\";\n\ntype AnyRow = any;\n\n/**\n * Configuration context for selection operations, defining how selection behaves and how to identify rows.\n * @internal\n */\nexport interface SelectionContext<TRow = AnyRow, TRowId extends RowId = RowId> {\n    /**\n     * The selection mode determining whether no rows, a single row, or multiple rows can be selected.\n     */\n    mode: SelectionMode;\n\n    /**\n     * The property key used to uniquely identify rows.\n     */\n    idKey: keyof TRow & string;\n}\n\n/**\n * Initializes a selection state.\n * @param mode - The selection mode to use; defaults to \"none\"\n * @returns A new selection state with no rows selected\n * @internal\n */\nexport const createSelectionState = (\n    mode: SelectionMode = \"none\"\n): SelectionState => ({\n    mode,\n    selectedIds: [],\n});\n\n/**\n * Checks whether a specific row is currently selected.\n * @param row - The row to check\n * @param selection - The current selection state\n * @param ctx - The selection context containing the ID key\n * @returns True if the row is selected, false otherwise\n * @internal\n */\nexport const isRowSelected = <TRow = AnyRow, TRowId extends RowId = RowId>(\n    row: TRow,\n    selection: SelectionState<TRowId>,\n    ctx: SelectionContext<TRow, TRowId>\n): boolean => {\n    const id = (row as any)[ctx.idKey] as TRowId;\n    return selection.selectedIds.includes(id);\n};\n\n/**\n * Toggles the selection state of a specific row.\n *\n * Behavior varies by selection mode:\n * - \"none\": Returns unchanged selection state\n * - \"single\": Selects the row if not selected, deselects if already selected\n * - \"multiple\": Adds the row to selection if not selected, removes if already selected\n *\n * @param row - The row to toggle selection for\n * @param selection - The current selection state\n * @param ctx - The selection context containing mode and ID key\n * @returns A new selection state with the row's selection toggled\n * @internal\n */\nexport const toggleRowSelection = <\n    TRow = AnyRow,\n    TRowId extends RowId = RowId,\n>(\n    row: TRow,\n    selection: SelectionState<TRowId>,\n    ctx: SelectionContext<TRow, TRowId>\n): SelectionState<TRowId> => {\n    const {mode} = ctx;\n    const id = (row as any)[ctx.idKey] as TRowId;\n\n    if (mode === \"none\") {\n        return selection;\n    }\n\n    if (mode === \"single\") {\n        const isSelected = selection.selectedIds.includes(id);\n        return {\n            ...selection,\n            selectedIds: isSelected ? [] : [id],\n        };\n    }\n\n    // multiple\n    const exists = selection.selectedIds.includes(id);\n    if (exists) {\n        return {\n            ...selection,\n            selectedIds: selection.selectedIds.filter((x) => x !== id),\n        };\n    }\n\n    return {\n        ...selection,\n        selectedIds: [...selection.selectedIds, id],\n    };\n};\n\n/**\n * Clears all selected rows, returning a selection state with an empty selection.\n * @param selection - The current selection state\n * @returns A new selection state with no rows selected\n * @internal\n */\nexport const clearSelection = <TRowId extends RowId = RowId>(\n    selection: SelectionState<TRowId>\n): SelectionState<TRowId> => ({\n    ...selection,\n    selectedIds: [],\n});\n\n/**\n * Selects all visible rows according to the current selection mode.\n *\n * Behavior varies by selection mode:\n * - \"none\": Returns unchanged selection state\n * - \"single\": Selects only the first visible row\n * - \"multiple\": Selects all visible rows\n *\n * @param visibleRows - The array of currently visible rows to select\n * @param selection - The current selection state\n * @param ctx - The selection context containing mode and ID key\n * @returns A new selection state with all visible rows selected (according to mode)\n * @internal\n */\nexport const selectAllVisible = <\n    TRow = AnyRow,\n    TRowId extends RowId = RowId,\n>(\n    visibleRows: TRow[],\n    selection: SelectionState<TRowId>,\n    ctx: SelectionContext<TRow, TRowId>\n): SelectionState<TRowId> => {\n    if (ctx.mode === \"none\") {\n        return selection;\n    }\n\n    const newIds = visibleRows.map(\n        (row) => (row as any)[ctx.idKey] as TRowId\n    );\n\n    if (ctx.mode === \"single\") {\n        return {\n            ...selection,\n            selectedIds: newIds.length > 0 ? [newIds[0]] : [],\n        };\n    }\n\n    // multiple\n    return {\n        ...selection,\n        selectedIds: newIds,\n    };\n};\n","import type { ListState, ListSnapshot, RowId } from \"../types\";\n/**\n * Builds an immutable snapshot of the current list state.\n *\n * This function creates a deep copy of all state properties to ensure the snapshot\n * is immutable and safe to store or compare against future states.\n *\n * @typeParam TRow - The type of row data managed by the list. Defaults to `any`.\n * @typeParam TRowId - The type used for row identifiers. Must extend {@link RowId}. Defaults to `RowId`.\n *\n * @param state - The current list state to snapshot. {@link ListState}\n * @returns An immutable snapshot containing copies of all state data. {@link ListSnapshot}\n *\n * @internal\n */\nexport const buildSnapshot = <\n  TRow = any,\n  TRowId extends RowId = RowId,\n>(\n  state: ListState<TRow>\n): ListSnapshot<TRow, TRowId> => {\n  return {\n    rowsAll: [...state.rawRows],\n    rowsVisible: [...state.rows],\n    filters: { ...state.filters },\n    sort: state.sort ? { ...state.sort } : undefined,\n    pagination: { ...state.pagination },\n    selection: {\n      mode: state.selection.mode,\n      selectedIds: [...state.selection.selectedIds] as TRowId[],\n    },\n  };\n};\n","import type {SortDescriptor, FieldSchema} from \"../types\";\n\ntype AnyRow = any;\n\n/**\n * Context object containing sorting configuration and field metadata for list operations.\n *\n * @internal\n */\nexport interface SortingContext<TRow = AnyRow> {\n  /**\n   * Optional sort descriptor specifying the field and direction to sort by.\n   */\n  sort?: SortDescriptor<TRow>;\n  /**\n   * Array of field schemas defining the structure of rows in the list.\n   */\n  fields: Array<FieldSchema<TRow>>;\n}\n\n/**\n * Compares two values for sorting purposes with null-safe handling.\n * Supports numbers, dates, and falls back to case-insensitive string comparison.\n *\n * @param a - First value to compare\n * @param b - Second value to compare\n * @returns Negative if a < b, positive if a > b, zero if equal\n *\n * @internal\n */\nconst compareValues = (a: unknown, b: unknown): number => {\n  if (a == null && b == null) return 0;\n  if (a == null) return 1;\n  if (b == null) return -1;\n\n  if (typeof a === \"number\" && typeof b === \"number\") {\n    return a - b;\n  }\n\n  if (a instanceof Date && b instanceof Date) {\n    return a.getTime() - b.getTime();\n  }\n\n  const sa = String(a).toLowerCase();\n  const sb = String(b).toLowerCase();\n  if (sa < sb) return -1;\n  if (sa > sb) return 1;\n  return 0;\n};\n\n/**\n * Applies sorting to a list of rows based on the provided sorting context.\n * Returns a new sorted array without mutating the original.\n *\n * @param rows - Array of rows to sort\n * @param ctx - Sorting context containing sort descriptor and field schemas\n * @returns New array with rows sorted according to the sort descriptor, or original array if no sort is specified\n *\n * @internal\n */\nexport const applySorting = <TRow = AnyRow>(\n  rows: TRow[],\n  ctx: SortingContext<TRow>\n): TRow[] => {\n  const { sort } = ctx;\n  if (!sort) {\n    return rows;\n  }\n\n  const { field, direction } = sort;\n\n  return [...rows].sort((a, b) => {\n    const va = (a as any)[field];\n    const vb = (b as any)[field];\n    const cmp = compareValues(va, vb);\n    return direction === \"asc\" ? cmp : -cmp;\n  });\n};\n","import type { ListUiState, RowId } from \"../types\";\n\n/**\n * Creates the initial UI state for a list component with no active actions\n * or open modals.\n *\n * @returns A fresh {@link ListUiState} instance with default values.\n * @internal\n */\nexport const createInitialUiState = (): ListUiState => ({\n  activeAction: undefined,\n  modal: {\n    isOpen: false,\n  },\n});\n\n/**\n * Opens a modal for a specific action by updating the UI state to mark both\n * the active action and the modal state as open.\n *\n * @param prev - The previous UI state to update.\n * @param actionId - Unique identifier of the action triggering the modal.\n * @param type - Whether the action is \"general\" (list-level) or \"row\" (row-specific).\n * @param rowId - Optional row identifier, required when type is \"row\".\n * @returns Updated {@link ListUiState} with the modal open and action metadata set.\n * @internal\n */\nexport const openModalForAction = (\n  prev: ListUiState,\n  actionId: string,\n  type: \"general\" | \"row\",\n  rowId?: RowId\n): ListUiState => ({\n  ...prev,\n  activeAction: {\n    type,\n    actionId,\n    rowId,\n  },\n  modal: {\n    isOpen: true,\n    actionId,\n    rowId,\n  },\n});\n\n/**\n * Closes the currently open modal by resetting the modal state while\n * preserving the rest of the UI state.\n *\n * @param prev - The previous UI state to update.\n * @returns Updated {@link ListUiState} with the modal closed.\n * @internal\n */\nexport const closeModal = (prev: ListUiState): ListUiState => ({\n  ...prev,\n  modal: {\n    isOpen: false,\n  },\n});\n\n/**\n * Clears the active action metadata from the UI state, typically called\n * after an action has been completed or cancelled.\n *\n * @param prev - The previous UI state to update.\n * @returns Updated {@link ListUiState} with no active action.\n * @internal\n */\nexport const clearActiveAction = (prev: ListUiState): ListUiState => ({\n  ...prev,\n  activeAction: undefined,\n});\n","/**\n * Query-based data source module.\n *\n * @remarks\n * This module provides functionality for creating query-based data sources that support\n * single-shot data loading and optional refresh operations. It is designed to work with\n * various data fetching mechanisms such as fetch API, RTKQ, or other async data providers.\n *\n * @packageDocumentation\n * @public\n */\n\nimport type {DataSource, DataSourceInitResult, RowId} from \"../types\";\n\n/**\n * Result object returned by a query load function.\n *\n * @typeParam TRow - The type of individual row objects in the result set\n *\n * @public\n */\nexport interface QueryResult<TRow = any> {\n    /** Array of row objects returned by the query */\n    rows: TRow[];\n    /** Optional total count of all available rows (for pagination) */\n    totalCount?: number;\n}\n\n/**\n * Function type for loading data from a query source.\n *\n * @typeParam TRow - The type of individual row objects in the result set\n * @returns A promise or synchronous result containing rows and optional total count\n *\n * @public\n */\nexport type QueryLoadFn<TRow = any> = () =>\n    | Promise<QueryResult<TRow>>\n    | QueryResult<TRow>;\n\n/**\n * Configuration options for creating a query-based data source.\n *\n * @typeParam TRow - The type of individual row objects in the result set\n *\n * @public\n */\nexport interface QuerySourceOptions<TRow = any> {\n    /**\n     * Function that performs the actual data load (fetch/RTKQ/etc.).\n     */\n    load: QueryLoadFn<TRow>;\n\n    /**\n     * Optional label for debugging / devtools.\n     */\n    label?: string;\n}\n\n/**\n * Creates a query-based data source with single-shot load and optional refresh capability.\n *\n * @remarks\n * This function creates a DataSource implementation that loads data using a provided\n * query function. The data source supports initialization and refresh operations,\n * making it suitable for list views that need to fetch and reload data.\n *\n * @typeParam TRow - The type of individual row objects in the result set\n * @typeParam TRowId - The type used for row identifiers (extends RowId)\n *\n * @param options - Configuration options for the query source\n * @returns A DataSource object with query-based loading capabilities\n *\n * @example\n * ```typescript\n * const userSource = createQuerySource({\n *   load: async () => {\n *     const response = await fetch('/api/users');\n *     const data = await response.json();\n *     return { rows: data.users, totalCount: data.total };\n *   },\n *   label: 'User List'\n * });\n * ```\n *\n * @public\n */\nexport const createQuerySource = <\n    TRow = any,\n    TRowId extends RowId = RowId,\n>(\n    options: QuerySourceOptions<TRow>\n): DataSource<TRow, TRowId> => {\n    const {load, label} = options;\n\n    const init = async (): Promise<DataSourceInitResult<TRow>> => {\n        const result = await Promise.resolve(load());\n        return {\n            rows: [...result.rows],\n            totalCount: result.totalCount,\n        };\n    };\n\n    const refresh = async (): Promise<void> => {\n        // `useListCore` will decide how to use init() + refresh().\n        await load();\n    };\n\n    return {\n        meta: {\n            kind: \"query\",\n            label: label ?? \"query\",\n        },\n        init,\n        refresh,\n    };\n};\n","import type {\n  DataSource,\n  DataSourceInitResult,\n    RowId\n} from \"../types\";\n\n/**\n * Configuration options for creating a static data source.\n *\n * @public\n */\ninterface StaticSourceOptions<TRow = any> {\n  /**\n   * Initial set of rows to be returned by the data source.\n   *\n   * @defaultValue `[]`\n   */\n  initialRows?: TRow[];\n\n  /**\n   * Optional function to lazily provide rows (e.g., computed or derived data).\n   * If provided, this takes precedence over `initialRows`.\n   */\n  getRows?: () => TRow[];\n}\n\n/**\n * Creates a simple, static data source that returns an initial snapshot of rows without streaming updates or patches.\n *\n * @remarks\n * This data source is ideal for static lists where data does not change after initialization.\n * It provides all rows upfront during the `init` call and does not support real-time updates.\n *\n * @typeParam TRow - The type of row objects in the data source\n * @typeParam TRowId - The type of row identifiers (defaults to RowId)\n *\n * @param options - Configuration options for the static data source\n *\n * @returns A DataSource instance configured with the provided static data\n *\n * @public\n */\nexport const createStaticSource = <\n  TRow = any,\n  TRowId extends RowId = RowId,\n>(\n  options: StaticSourceOptions<TRow> = {}\n): DataSource<TRow, TRowId> => {\n  const { initialRows = [], getRows } = options;\n\n  const init = async (): Promise<DataSourceInitResult<TRow>> => {\n    const rows = getRows ? getRows() : initialRows;\n    return {\n      rows: [...rows],\n    };\n  };\n\n  return {\n    meta: {\n      kind: \"static\",\n      label: \"static\",\n    },\n    init,\n  };\n};\n","import type {DataPatchListener, DataSource, DataSourceInitResult, Unsubscribe,RowId} from \"../types\";\n\n/**\n * Result object returned by the bootstrap function of a streaming data source.\n * Contains optional initial data and metadata for the stream.\n *\n * @public\n */\nexport interface StreamBootstrapResult<TRow = any> {\n    /**\n     * Optional initial snapshot loaded when the list mounts.\n     */\n    initialRows?: TRow[];\n\n    /**\n     * Optional total count if known.\n     */\n    totalCount?: number;\n}\n\n/**\n * Function type for subscribing to streaming data updates.\n * Receives a patch listener and returns an optional unsubscribe function.\n *\n * @public\n */\nexport type StreamSubscribeFn<TRow = any, TRowId extends RowId = RowId> = (\n    listener: DataPatchListener<TRow, TRowId>\n) => Unsubscribe | void;\n\n/**\n * Configuration options for creating a streaming data source.\n * Defines how to bootstrap, subscribe to, refresh, and destroy a streaming connection.\n *\n * @public\n */\nexport interface StreamSourceOptions<TRow = any, TRowId extends RowId = RowId> {\n    /**\n     * Optional bootstrap function to get an initial snapshot.\n     */\n    bootstrap?: () => Promise<StreamBootstrapResult<TRow>> | StreamBootstrapResult<TRow>;\n\n    /**\n     * Function that wires the low-level stream (SSE/WS/RTSK/etc.)\n     * to the library via patches.\n     */\n    subscribe: StreamSubscribeFn<TRow, TRowId>;\n\n    /**\n     * Optional refresh hook (may trigger a new bootstrap or cause the\n     * underlying stream to re-emit data).\n     */\n    refresh?: () => Promise<void> | void;\n\n    /**\n     * Optional cleanup hook for shutting down the low-level stream.\n     */\n    destroy?: () => void;\n\n    /**\n     * Optional label for identifying this data source in debugging and logging.\n     */\n    label?: string;\n}\n\n/**\n * Creates a streaming data source for real-time data updates.\n *\n * Supports various streaming protocols including Server-Sent Events (SSE),\n * WebSockets, RTSK, NDJSON, and other push-based data delivery mechanisms.\n * The source can optionally bootstrap with initial data and continuously\n * receive updates via patches.\n *\n * @typeParam TRow - The type of row objects in the data source\n * @typeParam TRowId - The type of row identifiers, defaults to string | number\n *\n * @param options - Configuration options for the streaming data source\n *\n * @returns A DataSource object that manages the streaming connection and data updates\n *\n * @public\n */\nexport const createStreamSource = <\n    TRow = any,\n    TRowId extends RowId = RowId,\n>(\n    options: StreamSourceOptions<TRow, TRowId>\n): DataSource<TRow, TRowId> => {\n    const {bootstrap, subscribe, refresh, destroy, label} = options;\n\n    const init = async (): Promise<DataSourceInitResult<TRow>> => {\n        if (!bootstrap) {\n            return {rows: []};\n        }\n\n        const result = await Promise.resolve(bootstrap());\n        return {\n            rows: result.initialRows ? [...result.initialRows] : [],\n            totalCount: result.totalCount,\n        };\n    };\n\n    let unsubscribe: Unsubscribe | undefined;\n\n    return {\n        meta: {\n            kind: \"stream\",\n            label: label ?? \"stream\",\n        },\n\n        init,\n\n        subscribe: (listener: DataPatchListener<TRow, TRowId>): Unsubscribe => {\n            const maybeUnsub = subscribe(listener);\n            if (typeof maybeUnsub === \"function\") {\n                unsubscribe = maybeUnsub;\n            }\n\n            return () => {\n                if (unsubscribe) {\n                    unsubscribe();\n                    unsubscribe = undefined;\n                }\n            };\n        },\n\n        refresh: refresh,\n\n        destroy: () => {\n            if (unsubscribe) {\n                unsubscribe();\n                unsubscribe = undefined;\n            }\n            destroy?.();\n        },\n    };\n};\n","import type { DataPatch, RowId } from \"../types\";\n\n/**\n * Extracts the id from a row based on the configured idKey.\n *\n * @typeParam TRow - The type of the row object\n * @typeParam TRowId - The type of the row identifier, must extend RowId\n *\n * @param row - The row object from which to extract the id\n * @param idKey - The property key on the row object that contains the id\n *\n * @returns The extracted row identifier of type TRowId\n *\n * @internal\n */\nexport const getRowId = <TRow = any, TRowId extends RowId = RowId>(\n    row: TRow,\n    idKey: keyof TRow & string\n): TRowId => {\n    return (row as any)[idKey] as TRowId;\n};\n\n/**\n * Applies a single data patch to the current list of rows.\n *\n * @remarks\n * Supports multiple patch types:\n * - `replaceAll`: Replaces the entire rows array with new rows\n * - `append`: Adds a single row to the end of the array\n * - `update`: Updates an existing row by matching its id\n * - `remove`: Removes a row by matching its id\n *\n * @typeParam TRow - The type of the row object\n * @typeParam TRowId - The type of the row identifier, must extend RowId\n *\n * @param rows - The current array of rows to apply the patch to\n * @param patch - The data patch operation to apply\n * @param idKey - The property key on the row object that contains the id\n *\n * @returns A new array of rows with the patch applied\n *\n * @internal\n */\nexport const applyPatch = <TRow = any, TRowId extends RowId = RowId>(\n    rows: TRow[],\n    patch: DataPatch<TRow, TRowId>,\n    idKey: keyof TRow & string\n): TRow[] => {\n    switch (patch.type) {\n        case \"replaceAll\":\n            return [...patch.rows];\n\n        case \"append\":\n            return [...rows, patch.row];\n\n        case \"update\": {\n            const targetId = getRowId<TRow, TRowId>(patch.row, idKey);\n            let changed = false;\n\n            const next = rows.map((row) => {\n                const rowId = getRowId<TRow, TRowId>(row, idKey);\n                if (rowId === targetId) {\n                    changed = true;\n                    return patch.row;\n                }\n                return row;\n            });\n\n            return changed ? next : next;\n        }\n\n        case \"remove\": {\n            let changed = false;\n            const next = rows.filter((row) => {\n                const rowId = getRowId<TRow, TRowId>(row, idKey);\n                if (rowId === patch.id) {\n                    changed = true;\n                    return false;\n                }\n                return true;\n            });\n            return changed ? next : next;\n        }\n\n        default:\n            return rows;\n    }\n};\n\n/**\n * Applies a list of patches in order.\n *\n * @remarks\n * Sequentially reduces over the patches array, applying each patch to the result of the previous patch.\n *\n * @typeParam TRow - The type of the row object\n * @typeParam TRowId - The type of the row identifier, must extend RowId\n *\n * @param rows - The initial array of rows to apply the patches to\n * @param patches - An array of data patch operations to apply in order\n * @param idKey - The property key on the row object that contains the id\n *\n * @returns A new array of rows with all patches applied\n *\n * @internal\n */\nexport const applyPatches = <TRow = any, TRowId extends RowId = RowId>(\n    rows: TRow[],\n    patches: Array<DataPatch<TRow, TRowId>>,\n    idKey: keyof TRow & string\n): TRow[] => {\n    return patches.reduce(\n        (current, patch) => applyPatch<TRow, TRowId>(current, patch, idKey),\n        rows\n    );\n};\n","/**\n * Core hook module that encapsulates the data-management logic for ListDisplay.\n * This module provides the main `useListCore` hook which wires a data source,\n * schema metadata, and optional actions into a cohesive state machine that can\n * be consumed by UI components.\n *\n * @internal\n */\n\nimport {useCallback, useEffect, useMemo, useState,} from \"react\";\n\nimport type {\n    DataPatch,\n    FieldSchema,\n    GeneralAction,\n    ListConfig,\n    ListSnapshot,\n    ListState,\n    RowAction,\n    RowId,\n    SelectionMode\n} from \"../types\";\n\nimport {applyFilters} from \"./filters\";\nimport {applySorting} from \"./sorting\";\nimport {applyPagination, updatePaginationMeta} from \"./pagination\";\nimport {clearSelection, createSelectionState, selectAllVisible,} from \"./selection\";\nimport {\n    clearActiveAction as clearActiveActionUi,\n    closeModal as closeModalUi,\n    createInitialUiState,\n    openModalForAction,\n} from \"./uiState\";\nimport {buildSnapshot} from \"./snapshots\";\nimport {applyPatch} from \"../dataSource\";\n\n/* \n * TYPES\n *  */\n\n/**\n * Contract returned by {@link useListCore}. It aggregates the current list\n * state as well as callbacks to mutate filters, sorting, pagination, and\n * selection. Action-oriented handlers are also exposed to keep the UI layer\n * thin and declarative.\n *\n * @typeParam TRow - The type of row data managed by the list.\n * @typeParam TRowId - The type of the unique identifier for each row.\n *\n * @internal\n */\nexport interface UseListCoreResult<\n    TRow = any,\n    TRowId extends RowId = RowId,\n> {\n    /**\n     * Latest list state produced by the hook.\n     * Contains all rows, visible rows, filters, sorting, pagination, selection, and UI state.\n     */\n    state: ListState<TRow>;\n\n    /**\n     * Field schema definitions used to interpret rows.\n     * Defines how each field should be rendered, filtered, and sorted.\n     */\n    fields: Array<FieldSchema<TRow>>;\n\n    /**\n     * General actions configured for the list.\n     * These actions operate on the entire list or selected rows.\n     */\n    generalActions?: Array<GeneralAction<TRow, TRowId>>;\n\n    /**\n     * Row-level actions configured for the list.\n     * These actions operate on individual rows.\n     */\n    rowActions?: Array<RowAction<TRow, TRowId>>;\n\n    /* FILTERS */\n    /**\n     * Updates the active filters map.\n     * Accepts an updater function that receives the previous filters and returns the new filters.\n     * Triggers a recomputation of derived state including filtering, sorting, and pagination.\n     *\n     * @param updater - Function that receives the previous filters and returns the new filters.\n     */\n    setFilters: (updater: (prev: ListState<TRow>[\"filters\"]) => ListState<TRow>[\"filters\"]) => void;\n\n    /* SORTING */\n    /**\n     * Sets the active sort descriptor.\n     * Triggers a recomputation of derived state including sorting and pagination.\n     *\n     * @param sort - The new sort descriptor or undefined to clear sorting.\n     */\n    setSort: (sort: ListState<TRow>[\"sort\"] | undefined) => void;\n\n    /* PAGINATION */\n    /**\n     * Moves to the specified page index.\n     * Triggers a recomputation of the visible rows based on the new page.\n     *\n     * @param pageIndex - Zero-based index of the page to navigate to.\n     */\n    setPageIndex: (pageIndex: number) => void;\n\n    /**\n     * Updates the number of rows per page.\n     * Resets to the first page and triggers a recomputation of pagination metadata.\n     *\n     * @param pageSize - The new number of rows to display per page.\n     */\n    setPageSize: (pageSize: number) => void;\n\n    /* SELECTION */\n    /**\n     * Clears all selections regardless of mode.\n     * Resets the selection state to its initial empty state.\n     */\n    clearSelection: () => void;\n\n    /**\n     * Selects all rows currently visible in the paginated slice.\n     * Only operates on the current page of visible rows.\n     */\n    selectAllVisible: () => void;\n\n    /* ACTIONS */\n    /**\n     * Triggers the handler for a general action by id.\n     * If the action opens a modal, opens the modal instead of executing the handler immediately.\n     *\n     * @param actionId - The unique identifier of the general action to trigger.\n     * @returns A promise that resolves when the action handler completes.\n     */\n    triggerGeneralAction: (actionId: string) => Promise<void>;\n\n    /**\n     * Triggers the handler for a row action by id and row index.\n     * If the action opens a modal, opens the modal instead of executing the handler immediately.\n     *\n     * @param actionId - The unique identifier of the row action to trigger.\n     * @param rowIndex - The index of the row in the visible rows array.\n     * @returns A promise that resolves when the action handler completes.\n     */\n    triggerRowAction: (actionId: string, rowIndex: number) => Promise<void>;\n\n    /* MODAL FLOW */\n    /**\n     * Confirms the currently active action modal.\n     * Executes the associated action handler and closes the modal.\n     *\n     * @param payload - Optional payload data from the modal to pass to the action handler.\n     * @returns A promise that resolves when the action handler completes.\n     */\n    confirmActiveAction: (payload?: unknown) => Promise<void>;\n\n    /**\n     * Cancels the currently active action modal.\n     * Closes the modal and clears the active action state without executing the handler.\n     */\n    cancelActiveAction: () => void;\n\n    /* META */\n    /**\n     * Exports the current state into a serializable snapshot.\n     * Useful for debugging, state persistence, or external integrations.\n     *\n     * @returns A complete snapshot of the current list state.\n     */\n    exportState: () => ListSnapshot<TRow, TRowId>;\n\n    /**\n     * Refreshes the data source and recomputes derived state.\n     * Re-invokes the data source init method and updates all derived state.\n     *\n     * @returns A promise that resolves when the refresh completes.\n     */\n    refresh: () => Promise<void>;\n}\n\n/* \n * HELPERS\n *  */\n\n/**\n * Default number of rows to display per page when pagination is enabled.\n *\n * @internal\n */\nconst DEFAULT_PAGE_SIZE = 25;\n\n/**\n * Initializes the selection state based on the provided selection mode.\n *\n * @param mode - The selection mode to initialize (none, single, or multiple).\n * @returns A new selection state object.\n *\n * @internal\n */\nconst initSelection = (mode: SelectionMode | undefined) =>\n    createSelectionState(mode ?? \"none\");\n\n/**\n * Recomputes derived parts of the list state:\n * - filters\n * - sorting\n * - pagination metadata\n * - visible rows\n *\n * This function applies filters, sorting, and pagination in sequence to produce\n * the final set of visible rows. It is the core computation pipeline for the list.\n *\n * @typeParam TRow - The type of row data managed by the list.\n * @param prevState - The previous list state to derive from.\n * @param fields - Field schema definitions used for filtering and sorting.\n * @param rawRowsOverride - Optional override for the raw rows array. If not provided, uses prevState.rawRows.\n * @returns A new list state with updated derived properties.\n *\n * @internal\n */\nconst recomputeDerived = <TRow = any>(\n    prevState: ListState<TRow>,\n    fields: Array<FieldSchema<TRow>>,\n    rawRowsOverride?: TRow[]\n): ListState<TRow> => {\n    const rawRows = rawRowsOverride ?? prevState.rawRows;\n\n    // 1. filters\n    const filtered = applyFilters<TRow>(rawRows, {\n        filters: prevState.filters,\n        fields,\n    });\n\n    // 2. sorting\n    const sorted = applySorting<TRow>(filtered, {\n        sort: prevState.sort,\n        fields,\n    });\n\n    // 3. pagination meta\n    const nextPagination = updatePaginationMeta(\n        prevState.pagination,\n        sorted.length\n    );\n\n    // 4. page slice\n    const paged = applyPagination<TRow>(sorted, nextPagination);\n\n    return {\n        ...prevState,\n        rawRows,\n        rows: paged,\n        pagination: nextPagination,\n    };\n};\n\n/* \n * HOOK\n *  */\n\n/**\n * Core hook that encapsulates the data-management logic for ListDisplay. It\n * wires a {@link DataSource}, schema metadata, and optional actions into a\n * cohesive state machine that can be consumed by UI components.\n *\n * This hook manages:\n * - Data loading from the data source\n * - Real-time updates via data source subscriptions\n * - Filtering, sorting, and pagination\n * - Row selection\n * - Action execution and modal flows\n * - State snapshots and refresh\n *\n * @typeParam TRow - The type of row data managed by the list.\n * @typeParam TRowId - The type of the unique identifier for each row.\n *\n * @param config - Configuration object containing data source, fields, actions, and initial state.\n * @returns An object containing the current state and methods to interact with the list.\n *\n * @internal\n */\nexport const useListCore = <\n    TRow = any,\n    TRowId extends RowId = RowId,\n>(\n    config: ListConfig<TRow, TRowId>\n): UseListCoreResult<TRow, TRowId> => {\n    const {\n        dataSource,\n        fields,\n        idKey,\n        generalActions,\n        rowActions,\n        initialFilters,\n        initialPagination,\n        initialSort,\n        selectionMode,\n    } = config;\n\n    /* INITIAL STATE */\n\n    const [state, setState] = useState<ListState<TRow>>(() => ({\n        rawRows: [],\n        rows: [],\n        filters: initialFilters ?? {},\n        sort: initialSort,\n        pagination: {\n            pageIndex: initialPagination?.pageIndex ?? 0,\n            pageSize: initialPagination?.pageSize ?? DEFAULT_PAGE_SIZE,\n            totalItems: initialPagination?.totalItems,\n            totalPages: initialPagination?.totalPages,\n        },\n        selection: initSelection(selectionMode),\n        status: \"idle\",\n        error: undefined,\n        ui: createInitialUiState(),\n    }));\n\n    /* DATA LOADING */\n\n    const loadInitial = useCallback(async () => {\n        setState((prev) => ({\n            ...prev,\n            status: \"loading\",\n            error: undefined,\n        }));\n\n        try {\n            const result = await dataSource.init();\n            setState((prev) =>\n                recomputeDerived<TRow>(\n                    {\n                        ...prev,\n                        rawRows: result.rows ?? [],\n                        status: result.status ?? \"ready\",\n                        error: undefined,\n                        pagination: {\n                            ...prev.pagination,\n                            // totalItems & totalPages will be recalculated\n                        },\n                    },\n                    fields\n                )\n            );\n        } catch (err) {\n            setState((prev) => ({\n                ...prev,\n                status: \"error\",\n                error: err,\n            }));\n        }\n    }, [dataSource, fields]);\n\n    useEffect(() => {\n        loadInitial();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [loadInitial]);\n\n    /* SUBSCRIBE TO STREAM PATCHES (if any) */\n\n    useEffect(() => {\n        if (!dataSource.subscribe) {\n            return;\n        }\n\n        const unsubscribe = dataSource.subscribe(\n            (patch: DataPatch<TRow, TRowId>) => {\n                setState((prev) => {\n                    const nextRaw = applyPatch<TRow, TRowId>(\n                        prev.rawRows,\n                        patch,\n                        idKey\n                    );\n                    return recomputeDerived<TRow>(prev, fields, nextRaw);\n                });\n            }\n        );\n\n        return () => {\n            if (unsubscribe) {\n                unsubscribe();\n            }\n            if (dataSource.destroy) {\n                dataSource.destroy();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [dataSource, fields, idKey]);\n\n    /* REFRESH */\n\n    const refresh = useCallback(async () => {\n        // Simple and clear: re-run init()\n        await loadInitial();\n    }, [loadInitial]);\n\n    /* EXPORT SNAPSHOT */\n\n    const exportState = useCallback(\n        (): ListSnapshot<TRow, TRowId> => buildSnapshot<TRow, TRowId>(state),\n        [state]\n    );\n\n    /* FILTERS */\n\n    const setFilters = useCallback(\n        (updater: (prev: ListState<TRow>[\"filters\"]) => ListState<TRow>[\"filters\"]) => {\n            setState((prev) => {\n                const nextFilters = updater(prev.filters);\n                return recomputeDerived<TRow>(\n                    {\n                        ...prev,\n                        filters: nextFilters,\n                    },\n                    fields\n                );\n            });\n        },\n        [fields]\n    );\n\n    /* SORTING */\n\n    const setSort = useCallback(\n        (sort: ListState<TRow>[\"sort\"] | undefined) => {\n            setState((prev) =>\n                recomputeDerived<TRow>(\n                    {\n                        ...prev,\n                        sort,\n                    },\n                    fields\n                )\n            );\n        },\n        [fields]\n    );\n\n    /* PAGINATION */\n\n    const setPageIndex = useCallback((pageIndex: number) => {\n        setState((prev) =>\n            recomputeDerived<TRow>(\n                {\n                    ...prev,\n                    pagination: {\n                        ...prev.pagination,\n                        pageIndex,\n                    },\n                },\n                fields\n            )\n        );\n    }, [fields]);\n\n    const setPageSize = useCallback((pageSize: number) => {\n        setState((prev) =>\n            recomputeDerived<TRow>(\n                {\n                    ...prev,\n                    pagination: {\n                        ...prev.pagination,\n                        pageSize,\n                        pageIndex: 0, // reset to first page when pageSize changes\n                    },\n                },\n                fields\n            )\n        );\n    }, [fields]);\n\n    /* SELECTION */\n\n    const doClearSelection = useCallback(() => {\n        setState((prev) => ({\n            ...prev,\n            selection: clearSelection(prev.selection),\n        }));\n    }, []);\n\n    const doSelectAllVisible = useCallback(() => {\n        setState((prev) => ({\n            ...prev,\n            selection: selectAllVisible<TRow, TRowId>(\n                prev.rows,\n                prev.selection as any,\n                {\n                    mode: prev.selection.mode,\n                    idKey: idKey as keyof TRow & string,\n                }\n            ),\n        }));\n    }, [idKey]);\n\n    /* INTERNAL: EXEC ACTION HANDLERS */\n\n    const runGeneralActionHandler = useCallback(\n        async (action: GeneralAction<TRow, TRowId>) => {\n            if (!action.handler) {\n                return;\n            }\n\n            // build the context from the *current* state\n            const snapshot = exportState();\n\n            const updateRows = (updater: (current: TRow[]) => TRow[]) => {\n                setState((prev) => {\n                    const nextRaw = updater(prev.rawRows);\n                    return recomputeDerived<TRow>(prev, fields, nextRaw);\n                });\n            };\n\n            const ctx = {\n                rows: snapshot.rowsAll,\n                visibleRows: snapshot.rowsVisible,\n                selection: snapshot.selection,\n                filters: snapshot.filters,\n                sort: snapshot.sort,\n                pagination: snapshot.pagination,\n                updateRows,\n                exportState,\n                refresh,\n            };\n\n            await action.handler(ctx);\n        },\n        [exportState, fields, refresh]\n    );\n\n    const runRowActionHandler = useCallback(\n        async (\n            action: RowAction<TRow, TRowId>,\n            rowIndex: number\n        ) => {\n            if (!action.handler) {\n                return;\n            }\n\n            const snapshot = exportState();\n            const row = snapshot.rowsVisible[rowIndex];\n            if (!row) {\n                return;\n            }\n\n            const updateRows = (updater: (current: TRow[]) => TRow[]) => {\n                setState((prev) => {\n                    const nextRaw = updater(prev.rawRows);\n                    return recomputeDerived<TRow>(prev, fields, nextRaw);\n                });\n            };\n\n            const ctx = {\n                rows: snapshot.rowsAll,\n                visibleRows: snapshot.rowsVisible,\n                selection: snapshot.selection,\n                filters: snapshot.filters,\n                sort: snapshot.sort,\n                pagination: snapshot.pagination,\n                updateRows,\n                exportState,\n                refresh,\n                row,\n                rowIndex,\n            };\n\n            await action.handler(ctx);\n        },\n        [exportState, fields, refresh]\n    );\n\n    /* ACTION TRIGGERS (GENERAL & ROW) */\n\n    const triggerGeneralAction = useCallback(\n        async (actionId: string) => {\n            const action = (generalActions ?? []).find(\n                (a) => a.id === actionId\n            );\n            if (!action) {\n                return;\n            }\n\n            if (action.opensModal && action.modal) {\n                setState((prev) => ({\n                    ...prev,\n                    ui: openModalForAction(prev.ui, action.id, \"general\"),\n                }));\n                return;\n            }\n\n            await runGeneralActionHandler(action);\n        },\n        [generalActions, runGeneralActionHandler]\n    );\n\n    const triggerRowAction = useCallback(\n        async (actionId: string, rowIndex: number) => {\n            const action = (rowActions ?? []).find(\n                (a) => a.id === actionId\n            );\n            if (!action) {\n                return;\n            }\n\n            if (action.opensModal && action.modal) {\n                // identify rowId for uiState\n                const row = state.rows[rowIndex];\n                const rowId = row ? ((row as any)[idKey] as TRowId) : undefined;\n\n                setState((prev) => ({\n                    ...prev,\n                    ui: openModalForAction(\n                        prev.ui,\n                        action.id,\n                        \"row\",\n                        rowId as RowId | undefined\n                    ),\n                }));\n                return;\n            }\n\n            await runRowActionHandler(action, rowIndex);\n        },\n        [rowActions, runRowActionHandler, state.rows, idKey]\n    );\n\n    /* MODAL CONFIRM / CANCEL */\n\n    const confirmActiveAction = useCallback(\n        async (payload?: unknown) => {\n            const {ui} = state;\n            const active = ui.activeAction;\n            if (!active) {\n                return;\n            }\n\n            if (active.type === \"general\") {\n                const action = (generalActions ?? []).find(\n                    (a) => a.id === active.actionId\n                );\n                if (action) {\n                    // for now we ignore payload here; it can be integrated in handler via CustomModalConfig if you want\n                    await runGeneralActionHandler(action);\n                }\n            } else {\n                const action = (rowActions ?? []).find(\n                    (a) => a.id === active.actionId\n                );\n                if (action) {\n                    // find rowIndex based on rowId from uiState\n                    const rowId = active.rowId as TRowId | undefined;\n                    let rowIndex = -1;\n                    if (rowId != null) {\n                        rowIndex = state.rows.findIndex(\n                            (r) => ((r as any)[idKey] as TRowId) === rowId\n                        );\n                    }\n\n                    if (rowIndex >= 0) {\n                        await runRowActionHandler(action, rowIndex);\n                    }\n                }\n            }\n\n            // close the modal and reset the active action\n            setState((prev) => ({\n                ...prev,\n                ui: clearActiveActionUi(closeModalUi(prev.ui)),\n            }));\n        },\n        [\n            state,\n            generalActions,\n            rowActions,\n            runGeneralActionHandler,\n            runRowActionHandler,\n            idKey,\n        ]\n    );\n\n    const cancelActiveAction = useCallback(() => {\n        setState((prev) => ({\n            ...prev,\n            ui: clearActiveActionUi(closeModalUi(prev.ui)),\n        }));\n    }, []);\n\n    /* MEMO RESULT */\n\n    return useMemo(\n        () => ({\n            state,\n            fields,\n            generalActions,\n            rowActions,\n\n            setFilters,\n            setSort,\n            setPageIndex,\n            setPageSize,\n\n            clearSelection: doClearSelection,\n            selectAllVisible: doSelectAllVisible,\n\n            triggerGeneralAction,\n            triggerRowAction,\n\n            confirmActiveAction,\n            cancelActiveAction,\n\n            exportState,\n            refresh,\n        }),\n        [\n            state,\n            fields,\n            generalActions,\n            rowActions,\n            setFilters,\n            setSort,\n            setPageIndex,\n            setPageSize,\n            doClearSelection,\n            doSelectAllVisible,\n            triggerGeneralAction,\n            triggerRowAction,\n            confirmActiveAction,\n            cancelActiveAction,\n            exportState,\n            refresh,\n        ]\n    );\n};\n","/**\n * Main list display component module.\n *\n * @remarks\n * This module provides the primary {@link ListDisplay} component which renders\n * a complete data list experience with filtering, sorting, pagination, and\n * action support. It leverages a ListCore for state management and\n * exposes a slot-based architecture for customization.\n *\n * @packageDocumentation\n * @public\n */\n\nimport React, {useMemo} from \"react\";\n\nimport type {ListConfig} from \"../types\";\nimport type {ListComponents, ListComponentsProps, ActiveFilterState} from \"../types\";\n\nimport {useListCore} from \"../core\";\n\nimport {ListContainer} from \"./layout/ListContainer\";\nimport {ListToolbar} from \"./layout/ListToolbar\";\nimport {ListFiltersPanel} from \"./layout/ListFiltersPanel\";\nimport {ListSortBar} from \"./layout/ListSortBar\";\nimport {ListTable} from \"./layout/ListTable\";\nimport {ListPagination} from \"./layout/ListPagination\";\n\nimport {ListLoadingState} from \"./states/ListLoadingState\";\nimport {ListEmptyState} from \"./states/ListEmptyState\";\nimport {ListErrorState} from \"./states/ListErrorState\";\n\nimport {ListModalOutlet} from \"./modals/ListModalOutlet\";\n\n/* \n * PROPS\n *  */\n\n/**\n * Props forwarded to {@link ListDisplay}. They mirror {@link ListConfig}\n * and therefore describe the full data, schema, and action configuration for\n * the list.\n *\n * @remarks\n * This type is a direct alias to {@link ListConfig} with generic parameters\n * set to `any`. It allows the list to work with any row type and row ID type.\n * Consumers should provide appropriate configuration including data source,\n * field schemas, actions, and optional component overrides.\n *\n * @public\n */\nexport type ListDisplayProps = ListConfig<any, any>;\n\n/* \n * COMPONENT\n *  */\n\n/**\n * High-level component that renders the entire ListDisplay experience using\n * the core hook for state management and a set of slot-based components for\n * the UI. Consumers can override any slot via the {@link ListConfig.components}\n * map while still benefiting from the built-in behaviours.\n *\n * @remarks\n * This component orchestrates the complete list UI including:\n * - Toolbar with general actions\n * - Filters panel for data filtering\n * - Sort bar for column sorting\n * - Table with rows and row actions\n * - Pagination controls\n * - Modal outlet for action confirmations\n * - Loading, empty, and error states\n *\n * All sub-components can be replaced via the `components` prop while maintaining\n * full integration with the core state management layer.\n *\n * @param props - Configuration object containing data source, fields, actions, and UI customization options. See {@link ListDisplayProps}.\n * @returns A complete list UI with all interactive features enabled.\n *\n * @public\n */\nexport const ListDisplay: React.FC<ListDisplayProps> = (props) => {\n    const {\n        components,\n        componentsProps,\n        idKey,\n        ...coreConfig\n    } = props;\n\n    const {\n        state,\n        fields,\n        generalActions,\n        rowActions,\n        setFilters,\n        setSort,\n        setPageIndex,\n        setPageSize,\n        clearSelection,\n        selectAllVisible,\n        triggerGeneralAction,\n        triggerRowAction,\n        confirmActiveAction,\n        cancelActiveAction,\n        exportState,\n        refresh,\n    } = useListCore<any, any>({\n        ...(coreConfig as ListConfig<any, any>),\n        idKey,\n    });\n\n    /* EFFECTIVE COMPONENTS (default or override) */\n\n    const {\n        Toolbar: ToolbarSlot,\n        FiltersPanel: FiltersPanelSlot,\n        SortBar: SortBarSlot,\n        Table: TableSlot,\n        Pagination: PaginationSlot,\n        ModalOutlet: ModalOutletSlot,\n        LoadingState: LoadingStateSlot,\n        EmptyState: EmptyStateSlot,\n        ErrorState: ErrorStateSlot,\n    }: ListComponents = components ?? {};\n\n    const compProps: ListComponentsProps = componentsProps ?? {};\n\n    const ToolbarComponent = ToolbarSlot ?? ListToolbar;\n    const FiltersPanelComponent = FiltersPanelSlot ?? ListFiltersPanel;\n    const SortBarComponent = SortBarSlot ?? ListSortBar;\n    const TableComponent = TableSlot ?? ListTable;\n    const PaginationComponent = PaginationSlot ?? ListPagination;\n    const ModalOutletComponent = ModalOutletSlot ?? ListModalOutlet;\n    const LoadingStateComponent = LoadingStateSlot ?? ListLoadingState;\n    const EmptyStateComponent = EmptyStateSlot ?? ListEmptyState;\n    const ErrorStateComponent = ErrorStateSlot ?? ListErrorState;\n\n    /* HANDLERS FOR UI */\n\n    const handleChangeFilters = (next: unknown) => {\n        const filters = (next ?? {}) as ActiveFilterState;\n        setFilters(() => filters);\n    };\n\n    const handleChangeSort = (fieldId: string) => {\n        if (!fieldId) {\n            setSort(undefined);\n            return;\n        }\n\n        const current = state.sort;\n        if (current && current.field === fieldId) {\n            const nextDirection = current.direction === \"asc\" ? \"desc\" : \"asc\";\n            setSort({\n                field: current.field,\n                direction: nextDirection,\n            });\n        } else {\n            setSort({\n                field: fieldId as any,\n                direction: \"asc\",\n            });\n        }\n    };\n\n    const handlePageChange = (pageIndex: number) => {\n        setPageIndex(pageIndex);\n    };\n\n    const handlePageSizeChange = (pageSize: number) => {\n        setPageSize(pageSize);\n    };\n\n    const handleToolbarActionClick = (actionId: string) => {\n        void triggerGeneralAction(actionId);\n    };\n\n    const handleRowActionClick = (actionId: string, rowIndex: number) => {\n        void triggerRowAction(actionId, rowIndex);\n    };\n\n    const handleModalConfirm = (payload?: unknown) => {\n        void confirmActiveAction(payload);\n    };\n\n    const handleModalCancel = () => {\n        cancelActiveAction();\n    };\n\n    /* DERIVED STATE FOR UI */\n\n    const isLoading =\n        state.status === \"loading\" &&\n        (!state.rows || state.rows.length === 0);\n\n    const hasError = state.status === \"error\";\n    const isEmpty =\n        state.status === \"ready\" &&\n        state.rows &&\n        state.rows.length === 0;\n\n    const loadingMessage = \"Loading data...\";\n    const emptyMessage = \"No data available.\";\n    const errorMessage = \"An error occurred while loading data.\";\n\n    const snapshotForExport = useMemo(() => exportState(), [exportState]);\n    void snapshotForExport; // to prevent linter warnings until it's actually used\n\n    /* RENDER */\n\n    return (\n        <ListContainer className=\"ld-list\">\n            <ToolbarComponent\n                {...(compProps.Toolbar as any)}\n                state={state}\n                generalActions={generalActions}\n                onActionClick={handleToolbarActionClick}\n            />\n\n            <FiltersPanelComponent\n                {...(compProps.FiltersPanel as any)}\n                state={state}\n                fields={fields}\n                onChangeFilters={handleChangeFilters}\n            />\n\n            <SortBarComponent\n                {...(compProps.SortBar as any)}\n                state={state}\n                fields={fields}\n                onChangeSort={handleChangeSort}\n            />\n\n            {isLoading && (\n                <LoadingStateComponent\n                    {...(compProps.LoadingState as any)}\n                    message={loadingMessage}\n                />\n            )}\n\n            {hasError && !isLoading && (\n                <ErrorStateComponent\n                    {...(compProps.ErrorState as any)}\n                    message={errorMessage}\n                />\n            )}\n\n            {isEmpty && !isLoading && !hasError && (\n                <EmptyStateComponent\n                    {...(compProps.EmptyState as any)}\n                    message={emptyMessage}\n                />\n            )}\n\n            {!isLoading && !hasError && state.rows && state.rows.length > 0 && (\n                <>\n                    <TableComponent\n                        {...(compProps.Table as any)}\n                        state={state}\n                        fields={fields}\n                        idKey={idKey}\n                        rowActions={rowActions}\n                        onRowActionClick={handleRowActionClick}\n                    />\n\n                    <PaginationComponent\n                        {...(compProps.Pagination as any)}\n                        state={state}\n                        onChangePage={handlePageChange}\n                        onChangePageSize={handlePageSizeChange}\n                    />\n                </>\n            )}\n\n            <ModalOutletComponent\n                {...(compProps.ModalOutlet as any)}\n                state={state}\n                generalActions={generalActions}\n                rowActions={rowActions}\n                onConfirm={handleModalConfirm}\n                onCancel={handleModalCancel}\n            />\n        </ListContainer>\n    );\n};\n\nexport default ListDisplay;\n"]}